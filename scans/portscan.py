import socket
import sys

MOST_USES_PORTS = [21, 22, 23, 25, 80, 135, 139, 443, 445, 3306, 8080, 8433]
OPEN_PORTS = []
PORTS_USE = {
    21: "FTP",
    22: "SSH",
    23: "TELNET",
    25: "SMTP",
    80: "HTTP",
    135: "RPC",
    139: "NETBIOS",
    443: "HTTPS",
    445: "SMB",
    3306: "MYSQL",
    8080: "WEB",
    8433: "APACHE"
}

def scanning(domain):
    print("Scanning ... await")

    for port in MOST_USES_PORTS:
        client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        client.settimeout(0.5)
        code = client.connect_ex((domain, port))
        if code == 0:
            OPEN_PORTS.append(port)


def report(domain):
    print("==========================================")
    print("OPEN DORS IN DOMAIN: ", domain)
    for port in OPEN_PORTS:
        print(f"{port} - {PORTS_USE[port]}")
    print("==========================================")


if __name__ == "__main__":
    print("Hacker Tools - Simple Port Scanning")
    if len(sys.argv) > 1:
        domain = sys.argv[1]    
    else:
        domain = input("set the domain to scan: ")
    scanning(domain)
    report(domain)

